(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[4],{294:function(e,n,t){e.exports={avatar:"Users_avatar__3yh5q",item:"Users_item__rwyZ9",name:"Users_name__-CNdu",followed:"Users_followed__3XwjY",navItem:"Users_navItem__2rNG8",status:"Users_status__3B33h"}},297:function(e,n,t){e.exports={pageNav:"Pagination_pageNav__1h-tT",pageNavActive:"Pagination_pageNavActive__pLmTm"}},298:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t(294),a=t.n(o),u=t(59),s=t(1),i=t(297),l=t.n(i),c=function(e){for(var n=Math.ceil(e.totalItemsCount/e.pageSize),t=[],o=Math.ceil(n/e.portionSize),a=Object(s.useState)(1),i=Object(u.a)(a,2),c=i[0],f=i[1],g=(c-1)*e.portionSize+1,h=c*e.portionSize,p=1;p<=n;p++)t.push(p);return Object(r.jsxs)("div",{className:l.a.pageNav,children:[c>1&&Object(r.jsx)("button",{onClick:function(){return f(c-1)},children:"\u276e"}),t.filter((function(e){return e>=g?e<=h:""})).map((function(n){return Object(r.jsx)("span",{className:e.currentPage===n?l.a.pageNavActive:"",onClick:function(){return e.onPageChanged(n)},children:n})})),o>c&&Object(r.jsx)("button",{onClick:function(){return f(c+1)},children:"\u276f"})]})},f=t(55),g=t(45),h=t(16),p=t(11),d=Object(p.b)((function(e){return{}}),{})((function(e){var n=e.user;return Object(r.jsx)(r.Fragment,{children:e.isAuth&&Object(r.jsx)("div",{className:a.a.followed,children:n.followed?Object(r.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===n.id})),onClick:function(){return e.followThunkCreator(n.id)},children:"Unfollow"}):Object(r.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===n.id})),onClick:function(){return e.unfollowThunkCreator(n.id)},children:"Follow"})})})})),j=function(e){var n=e.user;return Object(r.jsxs)("div",{className:a.a.item,children:[Object(r.jsxs)("div",{className:a.a.verticalBlock,children:[Object(r.jsx)(h.b,{to:"/profile/".concat(n.id),className:a.a.avatar,children:Object(r.jsx)("img",{src:null!=n.photos.large?n.photos.large:g.a,alt:""})}),Object(r.jsx)(d,{isAuth:e.isAuth,followingInProgress:e.followingInProgress,followThunkCreator:e.followThunkCreator,unfollowThunkCreator:e.unfollowThunkCreator,user:e.user})]}),Object(r.jsxs)("div",{className:a.a.navItem,children:[Object(r.jsx)(h.b,{to:"/profile/".concat(n.id),children:Object(r.jsx)("div",{className:a.a.name,children:n.name})}),Object(r.jsx)("span",{className:a.a.status,children:n.status})]})]},n.id)},b=t(75);function v(e,n){return e===n}function w(e,n,t){if(null===n||null===t||n.length!==t.length)return!1;for(var r=n.length,o=0;o<r;o++)if(!e(n[o],t[o]))return!1;return!0}function m(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var t=n.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t+"]")}return n}var C=function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=0,u=r.pop(),s=m(r),i=e.apply(void 0,[function(){return a++,u.apply(null,arguments)}].concat(t)),l=e((function(){for(var e=[],n=s.length,t=0;t<n;t++)e.push(s[t].apply(null,arguments));return i.apply(null,e)}));return l.resultFunc=u,l.dependencies=s,l.recomputations=function(){return a},l.resetRecomputations=function(){return a=0},l}}((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,t=null,r=null;return function(){return w(n,t,arguments)||(r=e.apply(null,arguments)),t=arguments,r}}));var k=C((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),O=function(e){return e.usersPage.pageSize},P=function(e){return e.usersPage.totalUserCount},x=function(e){return e.usersPage.currentPage},_=function(e){return e.usersPage.isFetching},N=function(e){return e.usersPage.followingInProgress};n.default=Object(p.b)((function(e){return{users:k(e),pageSize:O(e),totalUserCount:P(e),currentPage:x(e),isFetching:_(e),followingInProgress:N(e),isAuth:e.auth.isAuth}}),{follow:b.b,unfollow:b.h,followThunkCreator:b.c,toggleIsFollowingProgress:b.g,getUsersThunkCreator:b.e,onPageChangedThunkCreator:b.f,unfollowThunkCreator:b.i})((function(e){var n=e.users,t=e.pageSize,o=e.totalUserCount,u=e.currentPage,i=e.followingInProgress,l=e.isAuth,g=e.isFetching,h=e.getUsersThunkCreator,p=e.onPageChangedThunkCreator,d=e.followThunkCreator,b=e.unfollowThunkCreator;Object(s.useEffect)((function(){h(t,u)}),[]);return Object(r.jsxs)("div",{className:a.a.users,children:[g&&Object(r.jsx)(f.a,{}),Object(r.jsx)(c,{onPageChanged:function(e){p(t,e)},totalItemsCount:o,pageSize:t,currentPage:u,portionSize:10}),n.map((function(e){return Object(r.jsx)(j,{user:e,isAuth:l,followingInProgress:i,followThunkCreator:d,unfollowThunkCreator:b},e.id)}))]})}))}}]);
//# sourceMappingURL=4.243a3e11.chunk.js.map